import{u as P,j as t,a as b,s as A,L as F,m as I,b as q,S as H,r as i,c as V,d as Z,A as O,e as G,f as U,p as K,M as z,R as J}from"./index-535b50ae.js";import{C as T,A as L,D as $,S as Q}from"./arrow-right-liqht-50de5c3c.js";import{f as X}from"./fetchFoodData-ddc531fc.js";import{S as Y}from"./arrow-right-7b5d78dd.js";const tt="_ContainerDiary_1mrfm_7",et="_title_1mrfm_17",at="_imgTitle_1mrfm_27",st="_button_1mrfm_33",ot="_Calorie_1mrfm_45",nt="_itetemsCalories_1mrfm_52",rt="_titleName_1mrfm_57",it="_totalCalorie_1mrfm_76",m={ContainerDiary:tt,title:et,imgTitle:at,button:st,Calorie:ot,itetemsCalories:nt,titleName:rt,totalCalorie:it},ct=({intakeInfo:{mealType:e,carbonohidrates:s,protein:a,fat:n},srcSet:r})=>{const{openModal:c}=P();return t.jsxs("div",{className:m.ContainerDiary,children:[t.jsxs("div",{className:m.title,children:[t.jsx("img",{className:m.imgTitle,src:r[0],srcSet:`${r[0]} 1x, ${r[1]} 2x`,alt:e}),t.jsx("p",{className:m.titleName,children:e})]}),!s&&!a&&!n?t.jsx("div",{children:t.jsx("button",{className:m.button,onClick:()=>c("ModalRecordMeal",e),children:"+ Record your meal"})}):t.jsxs("div",{className:m.Calorie,children:[t.jsxs("p",{className:m.itetemsCalories,children:["carbonohidrates:"," ",t.jsx("span",{className:m.totalCalorie,children:s})]}),t.jsxs("p",{className:m.itetemsCalories,children:["protein: ",t.jsx("span",{className:m.totalCalorie,children:a})]}),t.jsxs("p",{className:m.itetemsCalories,children:["fat: ",t.jsx("span",{className:m.totalCalorie,children:n})]})]})]})},lt="_containerTitle_1rt5a_6",_t="_titleDiary_1rt5a_12",dt="_SeeMore_1rt5a_29",w={containerTitle:lt,titleDiary:_t,SeeMore:dt},mt=({openModal:e})=>{const s=b(A);return t.jsxs("section",{className:w.sectionDiary,children:[t.jsxs("div",{className:w.containerTitle,children:[t.jsx("h2",{className:w.titleDiary,children:"Diary"}),t.jsx(F,{className:w.SeeMore,to:"/diary",children:"See more"})]}),s.map(a=>t.jsx(ct,{intakeInfo:a,srcSet:I[a.mealType],openModal:e},a.mealType))]})},ut="_title_1mrx7_6",ht={title:ut},xt="_bar_container_1tvv2_20",pt="_statistic_wrapper_1tvv2_39",gt="_outer_bar_1tvv2_45",vt="_intermedeate_bar_1tvv2_54",jt="_inner_bar_1tvv2_64",ft="_percentage_1tvv2_74",yt="_statistic_title_1tvv2_81",Ct="_consumption_statistic_1tvv2_87",bt="_grey_text_1tvv2_114",kt="_water_consumption_1tvv2_118",Nt="_intake_button_1tvv2_127",u={bar_container:xt,statistic_wrapper:pt,outer_bar:gt,intermedeate_bar:vt,inner_bar:jt,"anime-icecream":"_anime-icecream_1tvv2_1",percentage:ft,statistic_title:yt,consumption_statistic:Ct,grey_text:bt,water_consumption:kt,intake_button:Nt},wt=({openModal:e})=>{const a=b(q);let n="#B6C3FF";a>1110&&(n="#ffff");const r=_=>_>1500?100:_/1500*100,p=`${Math.round(r(a)*.01*176)}px`,f=_=>{const o=1500-_;return o<0?0:o};return t.jsxs("div",{className:u.bar_container,children:[t.jsx("div",{className:u.outer_bar,children:t.jsxs("div",{className:u.intermedeate_bar,children:[t.jsx("p",{style:{color:n},className:u.percentage,children:`${Math.round(r(a))}%`}),t.jsx("div",{style:{height:p},className:u.inner_bar})]})}),t.jsx("div",{className:u.statistic_wrapper,children:t.jsxs("div",{children:[t.jsxs("div",{className:u.statistic_container,children:[t.jsx("h3",{className:u.statistic_title,children:"Water consumption"}),t.jsxs("div",{className:u.consumption_statistic,children:[t.jsxs("div",{children:[t.jsx("p",{className:u.water_consumption,children:a}),t.jsx("span",{children:"ml"})]}),t.jsxs("div",{children:[t.jsx("p",{children:"left:"}),t.jsx("span",{style:{fontWeight:500},children:f(a)}),t.jsx("span",{children:"ml"})]})]})]}),t.jsxs("button",{onClick:e,className:u.intake_button,children:[t.jsx(H,{width:16,strokeWidth:3}),"Add water intake"]})]})})]})},Mt=({openModal:e})=>t.jsxs("div",{children:[t.jsx("h3",{className:ht.title,children:"Water"}),t.jsx(wt,{openModal:e})]});T.register(L);const Dt=({calories:e,goal:s})=>{const a=i.useMemo(()=>e>=s?100:Math.round(e/s*100),[e,s]),n=e>=s?"red":"rgba(69, 255, 188, 1)",r=e>=s?[0]:[50],c={datasets:[{data:[a,100-a],backgroundColor:[n,"rgba(41, 41, 40, 1)"],borderColor:["rgba(69, 255, 188, 0)"],borderRadius:r,cutout:"80%"}]},p={id:"textCenter",beforeDatasetsDraw(_){const{ctx:o}=_,l=_.getDatasetMeta(0).data[0].x,h=_.getDatasetMeta(0).data[0].y;o.save(),o.font="32px Poppins",o.fillStyle="#ffffff",o.textAlign="center",o.textBaseline="middle",o.fillText(e,l,h-12),o.font="14px sans-serif",o.fillStyle="#B6B6B6",o.fillText("calories",l,h+15)}},f={id:"backgroundCircle",beforeDatasetsDraw(_){const{ctx:o}=_;o.save();const l=_.getDatasetMeta(0).data[0].x,h=_.getDatasetMeta(0).data[0].y,y=_.getDatasetMeta(0).data[0].innerRadius,k=_.getDatasetMeta(0).data[0].outerRadius,C=k-y,N=Math.PI/180;o.beginPath(),o.lineWidth=C,o.strokeStyle="rgba(41, 41, 40, 1)",o.arc(l,h,k-C/2,0,N*360,!1),o.stroke()}};return t.jsx("div",{className:"doughnut",style:{height:168,width:168},children:t.jsx($,{plugins:[p,f],data:c})})},St="_container_1i8sg_6",Ft="_goal_container_1i8sg_12",Bt="_goal_subcontainer_1i8sg_18",Rt="_goal_1i8sg_12",Wt="_goal_value_1i8sg_29",Tt="_left_value_1i8sg_33",Lt="_content_1i8sg_37",x={container:St,goal_container:Ft,goal_subcontainer:Bt,goal:Rt,goal_value:Wt,left_value:Tt,content:Lt};T.register(L);const D=({nutritionValue:e,arcColor:s,content:a,goal:n})=>{const r=i.useMemo(()=>e>=n?100:Math.round(e/n*100),[n,e]),c=e>=n?[0]:[50],p={datasets:[{data:[r,100-r],backgroundColor:[s,"rgba(41, 41, 40, 1)"],borderColor:["rgba(69, 255, 188, 0)"],borderRadius:c,cutout:"80%"}]},f={id:"textCenter",beforeDatasetsDraw(o){const{ctx:l}=o,h=o.getDatasetMeta(0).data[0].x,y=o.getDatasetMeta(0).data[0].y;l.save(),l.font="14px",l.fillStyle="#B6B6B6",l.textAlign="center",l.textBaseline="middle",l.fillText(`${r}%`,h,y)}},_={id:"backgroundCircle",beforeDatasetsDraw(o){const{ctx:l}=o;l.save();const h=o.getDatasetMeta(0).data[0].x,y=o.getDatasetMeta(0).data[0].y,k=o.getDatasetMeta(0).data[0].innerRadius,C=o.getDatasetMeta(0).data[0].outerRadius,N=C-k,E=Math.PI/180;l.beginPath(),l.lineWidth=N,l.strokeStyle="rgba(41, 41, 40, 1)",l.arc(h,y,C-N/2,0,E*360,!1),l.stroke()}};return t.jsxs("div",{className:x.container,children:[t.jsx("div",{className:"doughnut_container",style:{height:48,width:48},children:t.jsx($,{plugins:[f,_],data:p})}),t.jsxs("div",{className:x.goal_container,children:[t.jsx("p",{className:x.content,children:a}),t.jsxs("div",{className:x.goal_subcontainer,children:[t.jsxs("p",{className:x.goal,children:["Goal: ",t.jsx("span",{className:x.goal_value,children:n})]}),t.jsxs("p",{className:x.left,children:["Left:"," ",t.jsx("span",{className:x.left_value,children:e>=n?0:n-e})]})]})]})]})},$t="_food_wrapper_t12q7_6",Et="_food_title_t12q7_16",Pt="_food_container_t12q7_23",At="_food_subcontainer_t12q7_53",M={food_wrapper:$t,food_title:Et,food_container:Pt,food_subcontainer:At},S=["Carbonohidrates","Protein","Fat"],It=()=>{const{Calories:e,Carbonohidrates:s,Protein:a,Fat:n}=b(V),c=b(Z)===O.idle;return t.jsxs("div",{className:M.food_wrapper,children:[t.jsx("h3",{className:M.food_title,children:"Food"}),t.jsxs("div",{className:M.food_container,children:[c&&t.jsx(Dt,{calories:e.fact,goal:e.goal}),t.jsx("div",{className:M.food_subcontainer,children:c&&t.jsxs(t.Fragment,{children:[t.jsx(D,{nutritionValue:s.fact,arcColor:"#FFC4F7",content:S[0],goal:s.goal}),t.jsx(D,{nutritionValue:a.fact,arcColor:"#FFF3B7",content:S[1],goal:a.goal}),t.jsx(D,{nutritionValue:n.fact,arcColor:"#B6B6B6",content:S[2],goal:n.goal})]})})]})]})},qt="_daily_goal_block_2plsx_6",Ht="_daily_goal_title_2plsx_10",Vt="_goal_container_2plsx_23",Zt="_daily_goal_container_2plsx_37",Ot="_water_container_2plsx_56",Gt="_ml_2plsx_62",g={daily_goal_block:qt,daily_goal_title:Ht,goal_container:Vt,daily_goal_container:Zt,water_container:Ot,ml:Gt},Ut=e=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:80,viewBox:"0 0 80 80",fill:"none",...e},i.createElement("path",{d:"M60 50.0001V63.3334C60 68.8334 55.5 73.3334 50 73.3334H30C24.5 73.3334 20 68.8334 20 63.3334V46.6001L32.9667 46.6668C35.4 46.6668 37.8 47.2334 40 48.3334C42.2 49.4334 44.6 50.0001 47.0666 50.0001H60Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M60 36.0998V49.9998H47.0666C44.6 49.9998 42.2 49.4332 40 48.3332C37.8 47.2332 35.4 46.6665 32.9667 46.6665L20 46.5998V36.0998C20 34.5665 20.8668 32.4665 21.9668 31.3665L29.0334 24.2998C29.6334 23.6998 30 22.8332 30 21.9665V16.6665H50V21.9665C50 22.8332 50.3666 23.6998 50.9666 24.2998L58.0332 31.3665C59.1332 32.4665 60 34.5665 60 36.0998Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M60 53.3333V50",stroke:"#B6C3FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M20 49.9334V46.6001",stroke:"#B6C3FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M48.3337 16.6665H31.667C28.9003 16.6665 26.667 14.3998 26.667 11.6665C26.667 8.93317 28.9003 6.6665 31.667 6.6665H48.3337C51.1003 6.6665 53.3337 8.93317 53.3337 11.6665C53.3337 14.3998 51.1003 16.6665 48.3337 16.6665Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Kt=e=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:80,viewBox:"0 0 80 80",fill:"none",...e},i.createElement("path",{d:"M51.9662 40.8665C61.4103 40.8665 69.0662 33.2106 69.0662 23.7665C69.0662 14.3225 61.4103 6.6665 51.9662 6.6665C42.5222 6.6665 34.8662 14.3225 34.8662 23.7665C34.8662 33.2106 42.5222 40.8665 51.9662 40.8665Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10}),i.createElement("path",{d:"M21.2002 64.7999C26.8703 64.7999 31.4669 60.2034 31.4669 54.5333C31.4669 48.8632 26.8703 44.2666 21.2002 44.2666C15.5301 44.2666 10.9336 48.8632 10.9336 54.5333C10.9336 60.2034 15.5301 64.7999 21.2002 64.7999Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10}),i.createElement("path",{d:"M55.3995 73.3333C60.1124 73.3333 63.9329 69.5128 63.9329 64.7999C63.9329 60.0871 60.1124 56.2666 55.3995 56.2666C50.6867 56.2666 46.8662 60.0871 46.8662 64.7999C46.8662 69.5128 50.6867 73.3333 55.3995 73.3333Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10})),zt=()=>{const e=b(s=>s.auth.user);return t.jsxs("div",{className:g.daily_goal_block,children:[t.jsx("h3",{className:g.daily_goal_title,children:"Daily goal"}),t.jsxs("div",{className:g.goal_container,children:[t.jsxs("div",{className:g.daily_goal_container,children:[t.jsx(Kt,{}),t.jsxs("div",{children:[t.jsx("h4",{children:"Calories"}),t.jsx("p",{children:Math.round(e.BMR)})]})]}),t.jsxs("div",{className:g.daily_goal_container,children:[t.jsx(Ut,{}),t.jsxs("div",{children:[t.jsx("h4",{children:"Water"}),t.jsxs("div",{className:g.water_container,children:["1500 ",t.jsx("span",{className:g.ml,children:" ml"})]})]})]})]})]})},Jt="_main__container__recfood_115dv_6",Qt="_title_115dv_27",Xt="_item__list_115dv_42",Yt="_item_115dv_42",te="_product__image_115dv_71",ee="_product__info_115dv_77",ae="_product__name_115dv_81",se="_product__calories_115dv_88",oe="_calories__quantity_115dv_95",ne="_link__recfood_115dv_99",re="_see__more_115dv_114",ie="_seemore__arrow_115dv_126",ce="_click__here_115dv_136",d={main__container__recfood:Jt,title:Qt,item__list:Xt,item:Yt,product__image:te,product__info:ee,product__name:ae,product__calories:se,calories__quantity:oe,link__recfood:ne,see__more:re,seemore__arrow:ie,click__here:ce};function le(){const[e,s]=i.useState([]);return i.useEffect(()=>{X().then(a=>{s(a)}).catch(a=>console.error(a))},[]),t.jsx("ul",{className:d.item__list,children:e.map(a=>t.jsxs("li",{className:d.item,children:[t.jsx("img",{src:a.img,alt:a.name,className:d.product__image}),t.jsxs("div",{className:d.product__info,children:[t.jsx("h3",{className:d.product__name,children:a.name}),t.jsxs("p",{className:d.product__calories,children:["100 g"," ",t.jsxs("span",{className:d.calories__quantity,children:[a.calories," calories"]})]})]})]},a.name))})}const _e=()=>t.jsxs("div",{className:d.main__container__recfood,children:[t.jsx("h2",{className:d.title,children:"Recommended food"}),t.jsx(le,{}),t.jsxs(F,{className:d.link__recfood,to:"/recommended-food",children:[t.jsx("span",{className:d.see__more,children:"See more"}),t.jsx("span",{className:d.click__here,children:"Click here"}),t.jsx(Q,{className:d.seemore__arrow})]})]}),de="_today_container_1vvej_6",me="_today_title_1vvej_30",ue="_daily_goal_container_1vvej_42",he="_goal_link_container_1vvej_66",xe="_today_wrapper_1vvej_72",pe="_diary_recfood_container_1vvej_89",j={today_container:de,today_title:me,daily_goal_container:ue,goal_link_container:he,today_wrapper:xe,diary_recfood_container:pe},ge="_modal_portal_uctqt_6",ve="_modal_overlay_uctqt_19",B={modal_portal:ge,modal_overlay:ve},R=({isShowing:e,hide:s,children:a})=>{document.body.style.overflow="hidden";const n=c=>{c.target===c.currentTarget&&s()},r=i.useCallback(c=>{c.code==="Escape"&&s()},[s]);return i.useEffect(()=>(e&&window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r,e]),e?G.createPortal(t.jsxs("div",{className:B.modal_overlay,onClick:n,children:[t.jsx("div",{className:B.modal_portal}),t.jsx("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:t.jsxs("div",{className:"modal",children:[t.jsx("div",{className:"modal-header"}),a]})})]}),document.body):(document.body.style.overflow="auto",null)},je="_modal_container_bfyrv_6",fe="_title_bfyrv_17",ye="_input_container_bfyrv_30",Ce="_input_title_bfyrv_37",be="_water_input_bfyrv_41",ke="_button_confirm_bfyrv_55",Ne="_button_cancel_bfyrv_65",v={modal_container:je,title:fe,input_container:ye,input_title:Ce,water_input:be,button_confirm:ke,button_cancel:Ne},we=({hide:e})=>{const[s,a]=i.useState(""),n=U(),r=p=>{a(p.target.value)},c=()=>{s!==0&&n(K({volume:Number(s)})),e()};return t.jsxs("div",{className:v.modal_container,children:[t.jsx("h2",{className:v.title,children:"Add water intake"}),t.jsxs("div",{className:v.input_container,children:[t.jsx("h3",{className:v.input_title,children:"How much water"}),t.jsx("input",{className:v.water_input,type:"text",placeholder:"Enter milliliters",onChange:r}),t.jsx("button",{className:v.button_confirm,onClick:c,children:"Confirm"}),t.jsx("button",{className:v.button_cancel,onClick:e,children:"Cancel"})]})]})},W=()=>{const[e,s]=i.useState(!1),[a,n]=i.useState(!1);function r(){s(!e)}function c(){n(!a)}return{isRecordMealShowing:e,mealModalToggle:r,isWaterIntakeShowing:a,waterModalToggle:c}},Me=i.createContext(" no context"),De=({children:e})=>{const[s,a]=i.useState(null);return t.jsx(Me.Provider,{value:{typeOfMeal:s,setTypeOfMeal:a},children:e})},Se=()=>{const{isRecordMealShowing:e,mealModalToggle:s}=W(),{isWaterIntakeShowing:a,waterModalToggle:n}=W();return t.jsxs(De,{children:[t.jsx(R,{isShowing:e,hide:s,children:t.jsx(z,{hide:s})}),t.jsx(R,{isShowing:a,hide:n,children:t.jsx(we,{hide:n})}),t.jsxs("div",{className:j.today_container,children:[t.jsx("p",{className:j.today_title,children:"Today"}),t.jsx(F,{className:j.goal_link,to:J.DashboardPage,children:"On the way to the goal"}),t.jsx(Y,{width:16,height:16,stroke:"#B6B6B6",strokeWidth:"2px",style:{transform:"scale(-1, 1)"}})]}),t.jsxs("div",{className:j.today_wrapper,children:[t.jsxs("div",{className:j.daily_goal_container,children:[t.jsx(zt,{}),t.jsx(Mt,{openModal:n})]}),t.jsx(It,{})]}),t.jsxs("div",{className:j.diary_recfood_container,children:[t.jsx(mt,{openModal:s}),t.jsx(_e,{})]})]})},Te=Se;export{Te as default};
