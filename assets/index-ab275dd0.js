import{u as $,j as e,a as b,s as E,L as F,m as P,b as q,S as A,r as i,c as I,d as H,A as V,e as Z,f as O,p as G,R as U}from"./index-9a49dbd6.js";import{C as R,A as W,D as L,S as z}from"./arrow-right-liqht-7fff3805.js";import{f as K}from"./fetchFoodData-93874efe.js";import{S as J}from"./arrow-right-1429f130.js";const Q="_ContainerDiary_gedlf_7",X="_title_gedlf_18",Y="_imgTitle_gedlf_28",ee="_button_gedlf_34",te="_Calorie_gedlf_46",ae="_itetemsCalories_gedlf_53",se="_titleName_gedlf_58",oe="_totalCalorie_gedlf_77",m={ContainerDiary:Q,title:X,imgTitle:Y,button:ee,Calorie:te,itetemsCalories:ae,titleName:se,totalCalorie:oe},ne=({intakeInfo:{mealType:t,carbonohidrates:a,protein:s,fat:n},srcSet:r})=>{const{openModal:c}=$();return e.jsxs("div",{className:m.ContainerDiary,children:[e.jsxs("div",{className:m.title,children:[e.jsx("img",{className:m.imgTitle,src:r[0],srcSet:`${r[0]} 1x, ${r[1]} 2x`,alt:t}),e.jsx("p",{className:m.titleName,children:t})]}),!a&&!s&&!n?e.jsx("div",{children:e.jsx("button",{className:m.button,onClick:()=>c("ModalRecordMeal",t),children:"+ Record your meal"})}):e.jsxs("div",{className:m.Calorie,children:[e.jsxs("p",{className:m.itetemsCalories,children:["carbonohidrates:"," ",e.jsx("span",{className:m.totalCalorie,children:a})]}),e.jsxs("p",{className:m.itetemsCalories,children:["protein: ",e.jsx("span",{className:m.totalCalorie,children:s})]}),e.jsxs("p",{className:m.itetemsCalories,children:["fat: ",e.jsx("span",{className:m.totalCalorie,children:n})]})]})]})},re="_containerTitle_1rt5a_6",ie="_titleDiary_1rt5a_12",ce="_SeeMore_1rt5a_29",w={containerTitle:re,titleDiary:ie,SeeMore:ce},le=()=>{const t=b(E);return e.jsxs("section",{className:w.sectionDiary,children:[e.jsxs("div",{className:w.containerTitle,children:[e.jsx("h2",{className:w.titleDiary,children:"Diary"}),e.jsx(F,{className:w.SeeMore,to:"/diary",children:"See more"})]}),t.map(a=>e.jsx(ne,{intakeInfo:a,srcSet:P[a.mealType]},a.mealType))]})},_e="_title_1mrx7_6",de={title:_e},me="_bar_container_1tvv2_20",ue="_statistic_wrapper_1tvv2_39",he="_outer_bar_1tvv2_45",xe="_intermedeate_bar_1tvv2_54",ge="_inner_bar_1tvv2_64",pe="_percentage_1tvv2_74",fe="_statistic_title_1tvv2_81",je="_consumption_statistic_1tvv2_87",ve="_grey_text_1tvv2_114",ye="_water_consumption_1tvv2_118",Ce="_intake_button_1tvv2_127",u={bar_container:me,statistic_wrapper:ue,outer_bar:he,intermedeate_bar:xe,inner_bar:ge,"anime-icecream":"_anime-icecream_1tvv2_1",percentage:pe,statistic_title:fe,consumption_statistic:je,grey_text:ve,water_consumption:ye,intake_button:Ce},be=({openModal:t})=>{const s=b(q);let n="#B6C3FF";s>1110&&(n="#ffff");const r=_=>_>1500?100:_/1500*100,g=`${Math.round(r(s)*.01*176)}px`,v=_=>{const o=1500-_;return o<0?0:o};return e.jsxs("div",{className:u.bar_container,children:[e.jsx("div",{className:u.outer_bar,children:e.jsxs("div",{className:u.intermedeate_bar,children:[e.jsx("p",{style:{color:n},className:u.percentage,children:`${Math.round(r(s))}%`}),e.jsx("div",{style:{height:g},className:u.inner_bar})]})}),e.jsx("div",{className:u.statistic_wrapper,children:e.jsxs("div",{children:[e.jsxs("div",{className:u.statistic_container,children:[e.jsx("h3",{className:u.statistic_title,children:"Water consumption"}),e.jsxs("div",{className:u.consumption_statistic,children:[e.jsxs("div",{children:[e.jsx("p",{className:u.water_consumption,children:s}),e.jsx("span",{children:"ml"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"left:"}),e.jsx("span",{style:{fontWeight:500},children:v(s)}),e.jsx("span",{children:"ml"})]})]})]}),e.jsxs("button",{onClick:t,className:u.intake_button,children:[e.jsx(A,{width:16,strokeWidth:3,stroke:"#0F0F0F"}),"Add water intake"]})]})})]})},ke=({openModal:t})=>e.jsxs("div",{children:[e.jsx("h3",{className:de.title,children:"Water"}),e.jsx(be,{openModal:t})]});R.register(W);const Ne=({calories:t,goal:a})=>{const s=i.useMemo(()=>t>=a?100:Math.round(t/a*100),[t,a]),n=t>=a?"red":"rgba(69, 255, 188, 1)",r=t>=a?[0]:[50],c={datasets:[{data:[s,100-s],backgroundColor:[n,"rgba(41, 41, 40, 1)"],borderColor:["rgba(69, 255, 188, 0)"],borderRadius:r,cutout:"80%"}]},g={id:"textCenter",beforeDatasetsDraw(_){const{ctx:o}=_,l=_.getDatasetMeta(0).data[0].x,h=_.getDatasetMeta(0).data[0].y;o.save(),o.font="32px Poppins",o.fillStyle="#ffffff",o.textAlign="center",o.textBaseline="middle",o.fillText(t,l,h-12),o.font="14px sans-serif",o.fillStyle="#B6B6B6",o.fillText("calories",l,h+15)}},v={id:"backgroundCircle",beforeDatasetsDraw(_){const{ctx:o}=_;o.save();const l=_.getDatasetMeta(0).data[0].x,h=_.getDatasetMeta(0).data[0].y,y=_.getDatasetMeta(0).data[0].innerRadius,k=_.getDatasetMeta(0).data[0].outerRadius,C=k-y,N=Math.PI/180;o.beginPath(),o.lineWidth=C,o.strokeStyle="rgba(41, 41, 40, 1)",o.arc(l,h,k-C/2,0,N*360,!1),o.stroke()}};return e.jsx("div",{className:"doughnut",style:{height:168,width:168},children:e.jsx(L,{plugins:[g,v],data:c})})},we="_container_1i8sg_6",Me="_goal_container_1i8sg_12",De="_goal_subcontainer_1i8sg_18",Se="_goal_1i8sg_12",Fe="_goal_value_1i8sg_29",Be="_left_value_1i8sg_33",Re="_content_1i8sg_37",x={container:we,goal_container:Me,goal_subcontainer:De,goal:Se,goal_value:Fe,left_value:Be,content:Re};R.register(W);const D=({nutritionValue:t,arcColor:a,content:s,goal:n})=>{const r=i.useMemo(()=>t>=n?100:Math.round(t/n*100),[n,t]),c=t>=n?[0]:[50],g={datasets:[{data:[r,100-r],backgroundColor:[a,"rgba(41, 41, 40, 1)"],borderColor:["rgba(69, 255, 188, 0)"],borderRadius:c,cutout:"80%"}]},v={id:"textCenter",beforeDatasetsDraw(o){const{ctx:l}=o,h=o.getDatasetMeta(0).data[0].x,y=o.getDatasetMeta(0).data[0].y;l.save(),l.font="14px",l.fillStyle="#B6B6B6",l.textAlign="center",l.textBaseline="middle",l.fillText(`${r}%`,h,y)}},_={id:"backgroundCircle",beforeDatasetsDraw(o){const{ctx:l}=o;l.save();const h=o.getDatasetMeta(0).data[0].x,y=o.getDatasetMeta(0).data[0].y,k=o.getDatasetMeta(0).data[0].innerRadius,C=o.getDatasetMeta(0).data[0].outerRadius,N=C-k,T=Math.PI/180;l.beginPath(),l.lineWidth=N,l.strokeStyle="rgba(41, 41, 40, 1)",l.arc(h,y,C-N/2,0,T*360,!1),l.stroke()}};return e.jsxs("div",{className:x.container,children:[e.jsx("div",{className:"doughnut_container",style:{height:48,width:48},children:e.jsx(L,{plugins:[v,_],data:g})}),e.jsxs("div",{className:x.goal_container,children:[e.jsx("p",{className:x.content,children:s}),e.jsxs("div",{className:x.goal_subcontainer,children:[e.jsxs("p",{className:x.goal,children:["Goal: ",e.jsx("span",{className:x.goal_value,children:n})]}),e.jsxs("p",{className:x.left,children:["Left:"," ",e.jsx("span",{className:x.left_value,children:t>=n?0:n-t})]})]})]})]})},We="_food_wrapper_18gf5_6",Le="_food_title_18gf5_16",Te="_food_subcontainer_18gf5_23",$e="_food_container_18gf5_47",M={food_wrapper:We,food_title:Le,food_subcontainer:Te,food_container:$e},S=["Carbonohidrates","Protein","Fat"],Ee=()=>{const{Calories:t,Carbonohidrates:a,Protein:s,Fat:n}=b(I),c=b(H)===V.idle;return e.jsxs("div",{className:M.food_wrapper,children:[e.jsx("h3",{className:M.food_title,children:"Food"}),e.jsxs("div",{className:M.food_container,children:[c&&e.jsx(Ne,{calories:t.fact,goal:t.goal}),e.jsx("div",{className:M.food_subcontainer,children:c&&e.jsxs(e.Fragment,{children:[e.jsx(D,{nutritionValue:a.fact,arcColor:"#FFC4F7",content:S[0],goal:a.goal}),e.jsx(D,{nutritionValue:s.fact,arcColor:"#FFF3B7",content:S[1],goal:s.goal}),e.jsx(D,{nutritionValue:n.fact,arcColor:"#B6B6B6",content:S[2],goal:n.goal})]})})]})]})},Pe="_daily_goal_block_2plsx_6",qe="_daily_goal_title_2plsx_10",Ae="_goal_container_2plsx_23",Ie="_daily_goal_container_2plsx_37",He="_water_container_2plsx_56",Ve="_ml_2plsx_62",p={daily_goal_block:Pe,daily_goal_title:qe,goal_container:Ae,daily_goal_container:Ie,water_container:He,ml:Ve},Ze=t=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:80,viewBox:"0 0 80 80",fill:"none",...t},i.createElement("path",{d:"M60 50.0001V63.3334C60 68.8334 55.5 73.3334 50 73.3334H30C24.5 73.3334 20 68.8334 20 63.3334V46.6001L32.9667 46.6668C35.4 46.6668 37.8 47.2334 40 48.3334C42.2 49.4334 44.6 50.0001 47.0666 50.0001H60Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M60 36.0998V49.9998H47.0666C44.6 49.9998 42.2 49.4332 40 48.3332C37.8 47.2332 35.4 46.6665 32.9667 46.6665L20 46.5998V36.0998C20 34.5665 20.8668 32.4665 21.9668 31.3665L29.0334 24.2998C29.6334 23.6998 30 22.8332 30 21.9665V16.6665H50V21.9665C50 22.8332 50.3666 23.6998 50.9666 24.2998L58.0332 31.3665C59.1332 32.4665 60 34.5665 60 36.0998Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M60 53.3333V50",stroke:"#B6C3FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M20 49.9334V46.6001",stroke:"#B6C3FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M48.3337 16.6665H31.667C28.9003 16.6665 26.667 14.3998 26.667 11.6665C26.667 8.93317 28.9003 6.6665 31.667 6.6665H48.3337C51.1003 6.6665 53.3337 8.93317 53.3337 11.6665C53.3337 14.3998 51.1003 16.6665 48.3337 16.6665Z",stroke:"#B6C3FF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Oe=t=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:80,viewBox:"0 0 80 80",fill:"none",...t},i.createElement("path",{d:"M51.9662 40.8665C61.4103 40.8665 69.0662 33.2106 69.0662 23.7665C69.0662 14.3225 61.4103 6.6665 51.9662 6.6665C42.5222 6.6665 34.8662 14.3225 34.8662 23.7665C34.8662 33.2106 42.5222 40.8665 51.9662 40.8665Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10}),i.createElement("path",{d:"M21.2002 64.7999C26.8703 64.7999 31.4669 60.2034 31.4669 54.5333C31.4669 48.8632 26.8703 44.2666 21.2002 44.2666C15.5301 44.2666 10.9336 48.8632 10.9336 54.5333C10.9336 60.2034 15.5301 64.7999 21.2002 64.7999Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10}),i.createElement("path",{d:"M55.3995 73.3333C60.1124 73.3333 63.9329 69.5128 63.9329 64.7999C63.9329 60.0871 60.1124 56.2666 55.3995 56.2666C50.6867 56.2666 46.8662 60.0871 46.8662 64.7999C46.8662 69.5128 50.6867 73.3333 55.3995 73.3333Z",stroke:"#45FFBC",strokeWidth:2,strokeMiterlimit:10})),Ge=()=>{const t=b(a=>a.auth.user);return e.jsxs("div",{className:p.daily_goal_block,children:[e.jsx("h3",{className:p.daily_goal_title,children:"Daily goal"}),e.jsxs("div",{className:p.goal_container,children:[e.jsxs("div",{className:p.daily_goal_container,children:[e.jsx(Oe,{}),e.jsxs("div",{children:[e.jsx("h4",{children:"Calories"}),e.jsx("p",{children:Math.round(t.BMR)})]})]}),e.jsxs("div",{className:p.daily_goal_container,children:[e.jsx(Ze,{}),e.jsxs("div",{children:[e.jsx("h4",{children:"Water"}),e.jsxs("div",{className:p.water_container,children:["1500 ",e.jsx("span",{className:p.ml,children:" ml"})]})]})]})]})]})},Ue="_main__container__recfood_1qh1b_6",ze="_title_1qh1b_27",Ke="_item__list_1qh1b_42",Je="_item_1qh1b_42",Qe="_product__image_1qh1b_70",Xe="_product__info_1qh1b_76",Ye="_product__name_1qh1b_80",et="_product__calories_1qh1b_87",tt="_calories__quantity_1qh1b_94",at="_link__recfood_1qh1b_98",st="_see__more_1qh1b_113",ot="_seemore__arrow_1qh1b_125",nt="_click__here_1qh1b_135",d={main__container__recfood:Ue,title:ze,item__list:Ke,item:Je,product__image:Qe,product__info:Xe,product__name:Ye,product__calories:et,calories__quantity:tt,link__recfood:at,see__more:st,seemore__arrow:ot,click__here:nt};function rt(){const[t,a]=i.useState([]);return i.useEffect(()=>{K().then(s=>{a(s)}).catch(s=>console.error(s))},[]),e.jsx("ul",{className:d.item__list,children:t.slice(0,4).map(s=>e.jsxs("li",{className:d.item,children:[e.jsx("img",{src:s.img,alt:s.name,className:d.product__image,loading:"lazy"}),e.jsxs("div",{className:d.product__info,children:[e.jsx("h3",{className:d.product__name,children:s.name}),e.jsxs("p",{className:d.product__calories,children:[s.amount," ",e.jsxs("span",{className:d.calories__quantity,children:[s.calories," calories"]})]})]})]},s.name))})}const it=()=>e.jsxs("div",{className:d.main__container__recfood,children:[e.jsx("h2",{className:d.title,children:"Recommended food"}),e.jsx(rt,{}),e.jsxs(F,{className:d.link__recfood,to:"/recommended-food",children:[e.jsx("span",{className:d.see__more,children:"See more"}),e.jsx("span",{className:d.click__here,children:"Click here"}),e.jsx(z,{className:d.seemore__arrow})]})]}),ct="_today_container_1vvej_6",lt="_today_title_1vvej_30",_t="_daily_goal_container_1vvej_42",dt="_goal_link_container_1vvej_66",mt="_today_wrapper_1vvej_72",ut="_diary_recfood_container_1vvej_89",j={today_container:ct,today_title:lt,daily_goal_container:_t,goal_link_container:dt,today_wrapper:mt,diary_recfood_container:ut},ht="_modal_portal_x9an6_6",xt="_modal_overlay_x9an6_19",B={modal_portal:ht,modal_overlay:xt},gt=({isShowing:t,hide:a,children:s})=>{document.body.style.overflow="hidden";const n=c=>{c.target===c.currentTarget&&a()},r=i.useCallback(c=>{c.code==="Escape"&&a()},[a]);return i.useEffect(()=>(t&&window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r,t]),t?Z.createPortal(e.jsxs("div",{className:B.modal_overlay,onClick:n,children:[e.jsx("div",{className:B.modal_portal}),e.jsx("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:e.jsxs("div",{className:"modal",children:[e.jsx("div",{className:"modal-header"}),s]})})]}),document.body):(document.body.style.overflow="auto",null)},pt="_modal_container_bfyrv_6",ft="_title_bfyrv_17",jt="_input_container_bfyrv_30",vt="_input_title_bfyrv_37",yt="_water_input_bfyrv_41",Ct="_button_confirm_bfyrv_55",bt="_button_cancel_bfyrv_65",f={modal_container:pt,title:ft,input_container:jt,input_title:vt,water_input:yt,button_confirm:Ct,button_cancel:bt},kt=({hide:t})=>{const[a,s]=i.useState(""),n=O(),r=g=>{s(g.target.value)},c=()=>{a!==0&&n(G({volume:Number(a)})),t()};return e.jsxs("div",{className:f.modal_container,children:[e.jsx("h2",{className:f.title,children:"Add water intake"}),e.jsxs("div",{className:f.input_container,children:[e.jsx("h3",{className:f.input_title,children:"How much water"}),e.jsx("input",{className:f.water_input,type:"text",placeholder:"Enter milliliters",onChange:r}),e.jsx("button",{className:f.button_confirm,onClick:c,children:"Confirm"}),e.jsx("button",{className:f.button_cancel,onClick:t,children:"Cancel"})]})]})},Nt=()=>{const[t,a]=i.useState(!1),[s,n]=i.useState(!1);function r(){a(!t)}function c(){n(!s)}return{isRecordMealShowing:t,mealModalToggle:r,isWaterIntakeShowing:s,waterModalToggle:c}},wt=i.createContext(" no context"),Mt=({children:t})=>{const[a,s]=i.useState(null);return e.jsx(wt.Provider,{value:{typeOfMeal:a,setTypeOfMeal:s},children:t})},Dt=()=>{const{isWaterIntakeShowing:t,waterModalToggle:a}=Nt();return e.jsxs(Mt,{children:[e.jsx(gt,{isShowing:t,hide:a,children:e.jsx(kt,{hide:a})}),e.jsxs("div",{className:j.today_container,children:[e.jsx("p",{className:j.today_title,children:"Today"}),e.jsx(F,{className:j.goal_link,to:U.DashboardPage,children:"On the way to the goal"}),e.jsx(J,{width:16,height:16,stroke:"#B6B6B6",strokeWidth:"2px",style:{transform:"scale(-1, 1)"}})]}),e.jsxs("div",{className:j.today_wrapper,children:[e.jsxs("div",{className:j.daily_goal_container,children:[e.jsx(Ge,{}),e.jsx(ke,{openModal:a})]}),e.jsx(Ee,{})]}),e.jsxs("div",{className:j.diary_recfood_container,children:[e.jsx(le,{}),e.jsx(it,{})]})]})},Wt=Dt;export{Wt as default};
